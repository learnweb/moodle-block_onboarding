define(["jquery","core/ajax","core/notification"],function($,ajax,notification){return $(".next_btn").on("click",function(){ajax.call([{methodname:"block_onboarding_next_step",args:{}}])[0].done(function(response){1==response.completed?$(".step_completed").css("visibility","visible"):$(".step_completed").css("visibility","hidden"),1==response.achievement?($(".step_container").css("background-color","#009933"),$(".step_title").text("Achievement! "+response.name)):($(".step_container").css("background-color",""),$(".step_title").text("Step "+response.position+": "+response.name)),$(".step_description").text(response.description),$(".progress_bar_value").text(response.progress+"%"),$(".progress_bar_fill").css("width",response.progress+"%")}).fail(notification.exception)}),$(".skip_btn").on("click",function(){ajax.call([{methodname:"block_onboarding_skip_step",args:{}}])[0].done(function(response){1==response.completed?$(".step_completed").css("visibility","visible"):$(".step_completed").css("visibility","hidden"),1==response.achievement?($(".step_container").css("background-color","#009933"),$(".step_title").text("Achievement! "+response.name)):($(".step_container").css("background-color",""),$(".step_title").text("Step "+response.position+": "+response.name)),$(".step_description").text(response.description)}).fail(notification.exception)}),$(".back_btn").on("click",function(){ajax.call([{methodname:"block_onboarding_back_step",args:{}}])[0].done(function(response){1==response.completed?$(".step_completed").css("visibility","visible"):$(".step_completed").css("visibility","hidden"),1==response.achievement?($(".step_container").css("background-color","#009933"),$(".step_title").text("Achievement! "+response.name)):($(".step_container").css("background-color",""),$(".step_title").text("Step "+response.position+": "+response.name)),$(".step_description").text(response.description)}).fail(notification.exception)}),{init:function(){ajax.call([{methodname:"block_onboarding_init_step",args:{}}])[0].done(function(response){1==response.completed?$(".step_completed").css("visibility","visible"):$(".step_completed").css("visibility","hidden"),1==response.achievement?($(".step_container").css("background-color","#009933"),$(".step_title").text("Achievement! "+response.name)):($(".step_container").css("background-color",""),$(".step_title").text("Step "+response.position+": "+response.name)),$(".step_description").text(response.description),$(".progress_bar_value").text(response.progress+"%"),$(".progress_bar_fill").css("width",response.progress+"%")}).fail(notification.exception)}}});