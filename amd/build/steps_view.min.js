define(["jquery","core/ajax","core/notification"],function($,ajax,notification){var next_step=function(userid){$(".done_btn").on("click",function(){alert(userid),ajax.call([{methodname:"block_onboarding_next_step",args:{userid:userid}}])[0].done(function(html2){var html1='<div class="step_description">'+html2.description+"</div>";$(".step_description").replaceWith(html1);html2='<h5 class="step_title"><b>Step #'+html2.position+": "+html2.name+"</b></h5>";$(".step_title").replaceWith(html2)}).fail(notification.exception)})};return{init:function(userid){alert(userid+"init"),ajax.call([{methodname:"block_onboarding_init_step",args:{userid:userid}}])[0].done(function(html2){var html1='<div class="step_description">'+html2.description+"</div>";$(".step_description").replaceWith(html1);html2='<h5 class="step_title"><b>Step #'+html2.position+": "+html2.name+"</b></h5>";$(".step_title").replaceWith(html2)}).fail(notification.exception),next_step(userid)},next_step:next_step()}});