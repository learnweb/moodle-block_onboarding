define(["jquery","core/ajax","core/notification","core/str"],function($,ajax,notification,str){return{init:function(){$(".confirm-btn").on("click",function(){var type=$(this).attr("onb-data-context"),id=$(this).attr("onb-data-id");ajax.call([{methodname:"block_onboarding_generate_confirmation",args:{type:type,id:id}}])[0].done(function(response){1==confirm(response.text)&&ajax.call([{methodname:"block_onboarding_execute_confirmation",args:{type:type,id:id}}])[0].done(function(response){return"reload"==response.redirect?location.reload():window.location.href=response.redirect,!1}).fail(notification.exception)}).fail(notification.exception)})}}});